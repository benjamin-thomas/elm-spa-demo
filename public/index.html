<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
<script src="/dist/elm.js"></script>
<script>
    const store = JSON.parse(localStorage.getItem('store')) || {};
    const app = Elm.Main.init({
        flags: store
    });

    app.ports.saveScore.subscribe(points => {
        store.score = points;
        localStorage.setItem('store', JSON.stringify(store));
        app.ports.loadScore.send(points);
    });

    // app.ports.outgoing.subscribe(({tag, data}) => {
    //     switch (tag) {
    //         case 'saveUser':
    //             console.log('Saving user...');
    //             return localStorage.setItem('user', JSON.stringify(data))
    //         case 'clearUser':
    //             return localStorage.removeItem('user')
    //         default:
    //             return console.warn(`Unrecognized Port`, tag)
    //     }
    // });

</script>
</body>
</html>
